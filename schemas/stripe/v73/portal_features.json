{
  "name": "portal_features",
  "schema": {
    "description": "",
    "properties": {
      "customer_update": {
        "allowed_updates": "address",
        "enabled": true
      },
      "invoice_history": {
        "description": "",
        "properties": {
          "enabled": {
            "description": "Whether the feature is enabled.",
            "type": "boolean"
          }
        },
        "required": [
          "enabled"
        ],
        "title": "PortalInvoiceList",
        "type": "object",
        "x-expandableFields": []
      },
      "payment_method_update": {
        "description": "",
        "properties": {
          "enabled": {
            "description": "Whether the feature is enabled.",
            "type": "boolean"
          }
        },
        "required": [
          "enabled"
        ],
        "title": "PortalPaymentMethodUpdate",
        "type": "object",
        "x-expandableFields": []
      },
      "subscription_cancel": {
        "description": "",
        "properties": {
          "cancellation_reason": {
            "description": "",
            "properties": {
              "enabled": {
                "description": "Whether the feature is enabled.",
                "type": "boolean"
              },
              "options": {
                "enum": [
                  "customer_service",
                  "low_quality",
                  "missing_features",
                  "other",
                  "switched_service",
                  "too_complex",
                  "too_expensive",
                  "unused"
                ],
                "type": "string"
              }
            },
            "required": [
              "enabled",
              "options"
            ],
            "title": "PortalSubscriptionCancellationReason",
            "type": "object",
            "x-expandableFields": []
          },
          "enabled": {
            "description": "Whether the feature is enabled.",
            "type": "boolean"
          },
          "mode": {
            "description": "Whether to cancel subscriptions immediately or at the end of the billing period.",
            "enum": [
              "at_period_end",
              "immediately"
            ],
            "type": "string"
          },
          "proration_behavior": {
            "description": "Whether to create prorations when canceling subscriptions. Possible values are `none` and `create_prorations`.",
            "enum": [
              "always_invoice",
              "create_prorations",
              "none"
            ],
            "type": "string"
          }
        },
        "required": [
          "enabled",
          "mode",
          "proration_behavior"
        ],
        "title": "PortalSubscriptionCancel",
        "type": "object",
        "x-expandableFields": [
          "cancellation_reason"
        ]
      },
      "subscription_pause": {
        "description": "",
        "properties": {
          "enabled": {
            "description": "Whether the feature is enabled.",
            "type": "boolean"
          }
        },
        "required": [
          "enabled"
        ],
        "title": "PortalSubscriptionPause",
        "type": "object",
        "x-expandableFields": []
      },
      "subscription_update": {
        "description": "",
        "properties": {
          "default_allowed_updates": {
            "enum": [
              "price",
              "promotion_code",
              "quantity"
            ],
            "type": "string"
          },
          "enabled": {
            "description": "Whether the feature is enabled.",
            "type": "boolean"
          },
          "products": {
            "description": "",
            "properties": {
              "prices": {
                "maxLength": 5000,
                "type": "string"
              },
              "product": {
                "description": "The product ID.",
                "maxLength": 5000,
                "type": "string"
              }
            },
            "required": [
              "prices",
              "product"
            ],
            "title": "PortalSubscriptionUpdateProduct",
            "type": "object",
            "x-expandableFields": []
          },
          "proration_behavior": {
            "description": "Determines how to handle prorations resulting from subscription updates. Valid values are `none`, `create_prorations`, and `always_invoice`.",
            "enum": [
              "always_invoice",
              "create_prorations",
              "none"
            ],
            "type": "string"
          }
        },
        "required": [
          "default_allowed_updates",
          "enabled",
          "proration_behavior"
        ],
        "title": "PortalSubscriptionUpdate",
        "type": "object",
        "x-expandableFields": [
          "products"
        ]
      }
    },
    "required": [
      "customer_update",
      "invoice_history",
      "payment_method_update",
      "subscription_cancel",
      "subscription_pause",
      "subscription_update"
    ],
    "title": "PortalFeatures",
    "type": "object",
    "x-expandableFields": [
      "customer_update",
      "invoice_history",
      "payment_method_update",
      "subscription_cancel",
      "subscription_pause",
      "subscription_update"
    ],
    "default": {
      "customer_update": {},
      "invoice_history": {
        "enabled": true
      },
      "payment_method_update": {
        "enabled": true
      },
      "subscription_cancel": {
        "cancellation_reason": {
          "enabled": true,
          "options": "customer_service"
        },
        "enabled": true,
        "mode": "at_period_end",
        "proration_behavior": "always_invoice"
      },
      "subscription_pause": {
        "enabled": true
      },
      "subscription_update": {
        "default_allowed_updates": "price",
        "enabled": true,
        "products": {
          "prices": "string",
          "product": "string"
        },
        "proration_behavior": "always_invoice"
      }
    }
  }
}