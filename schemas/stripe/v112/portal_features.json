{
  "description": "",
  "properties": {
    "customer_update": {
      "description": "",
      "properties": {
        "allowed_updates": {
          "description": "The types of customer updates that are supported. When empty, customers are not updateable.",
          "items": {
            "enum": [
              "address",
              "email",
              "phone",
              "shipping",
              "tax_id"
            ],
            "type": "string"
          },
          "type": "array"
        },
        "enabled": {
          "description": "Whether the feature is enabled.",
          "type": "boolean"
        }
      },
      "required": [
        "allowed_updates",
        "enabled"
      ],
      "title": "PortalCustomerUpdate",
      "type": "object"
    },
    "invoice_history": {
      "description": "",
      "properties": {
        "enabled": {
          "description": "Whether the feature is enabled.",
          "type": "boolean"
        }
      },
      "required": [
        "enabled"
      ],
      "title": "PortalInvoiceList",
      "type": "object"
    },
    "payment_method_update": {
      "description": "",
      "properties": {
        "enabled": {
          "description": "Whether the feature is enabled.",
          "type": "boolean"
        }
      },
      "required": [
        "enabled"
      ],
      "title": "PortalPaymentMethodUpdate",
      "type": "object"
    },
    "subscription_cancel": {
      "description": "",
      "properties": {
        "cancellation_reason": {
          "description": "",
          "properties": {
            "enabled": {
              "description": "Whether the feature is enabled.",
              "type": "boolean"
            },
            "options": {
              "description": "Which cancellation reasons will be given as options to the customer.",
              "items": {
                "enum": [
                  "customer_service",
                  "low_quality",
                  "missing_features",
                  "other",
                  "switched_service",
                  "too_complex",
                  "too_expensive",
                  "unused"
                ],
                "type": "string"
              },
              "type": "array"
            }
          },
          "required": [
            "enabled",
            "options"
          ],
          "title": "PortalSubscriptionCancellationReason",
          "type": "object"
        },
        "enabled": {
          "description": "Whether the feature is enabled.",
          "type": "boolean"
        },
        "mode": {
          "description": "Whether to cancel subscriptions immediately or at the end of the billing period.",
          "enum": [
            "at_period_end",
            "immediately"
          ],
          "type": "string"
        },
        "proration_behavior": {
          "description": "Whether to create prorations when canceling subscriptions. Possible values are `none` and `create_prorations`.",
          "enum": [
            "always_invoice",
            "create_prorations",
            "none"
          ],
          "type": "string"
        }
      },
      "required": [
        "cancellation_reason",
        "enabled",
        "mode",
        "proration_behavior"
      ],
      "title": "PortalSubscriptionCancel",
      "type": "object"
    },
    "subscription_pause": {
      "description": "",
      "properties": {
        "enabled": {
          "description": "Whether the feature is enabled.",
          "type": "boolean"
        }
      },
      "required": [
        "enabled"
      ],
      "title": "PortalSubscriptionPause",
      "type": "object"
    },
    "subscription_update": {
      "description": "",
      "properties": {
        "default_allowed_updates": {
          "description": "The types of subscription updates that are supported for items listed in the `products` attribute. When empty, subscriptions are not updateable.",
          "items": {
            "enum": [
              "price",
              "promotion_code",
              "quantity"
            ],
            "type": "string"
          },
          "type": "array"
        },
        "enabled": {
          "description": "Whether the feature is enabled.",
          "type": "boolean"
        },
        "products": {
          "description": "The list of products that support subscription updates.",
          "items": {
            "description": "",
            "properties": {
              "prices": {
                "description": "The list of price IDs which, when subscribed to, a subscription can be updated.",
                "items": {
                  "maxLength": 5000,
                  "type": "string"
                },
                "type": "array"
              },
              "product": {
                "description": "The product ID.",
                "maxLength": 5000,
                "type": "string"
              }
            },
            "required": [
              "prices",
              "product"
            ],
            "title": "PortalSubscriptionUpdateProduct",
            "type": "object"
          },
          "type": [
            "array",
            "null"
          ]
        },
        "proration_behavior": {
          "description": "Determines how to handle prorations resulting from subscription updates. Valid values are `none`, `create_prorations`, and `always_invoice`.",
          "enum": [
            "always_invoice",
            "create_prorations",
            "none"
          ],
          "type": "string"
        }
      },
      "required": [
        "default_allowed_updates",
        "enabled",
        "proration_behavior"
      ],
      "title": "PortalSubscriptionUpdate",
      "type": "object"
    }
  },
  "required": [
    "customer_update",
    "invoice_history",
    "payment_method_update",
    "subscription_cancel",
    "subscription_pause",
    "subscription_update"
  ],
  "title": "PortalFeatures",
  "type": "object",
  "default": {
    "customer_update": {
      "allowed_updates": [
        "address"
      ],
      "enabled": true
    },
    "invoice_history": {
      "enabled": true
    },
    "payment_method_update": {
      "enabled": true
    },
    "subscription_cancel": {
      "cancellation_reason": {
        "enabled": true,
        "options": [
          "customer_service"
        ]
      },
      "enabled": true,
      "mode": "at_period_end",
      "proration_behavior": "always_invoice"
    },
    "subscription_pause": {
      "enabled": true
    },
    "subscription_update": {
      "default_allowed_updates": [
        "price"
      ],
      "enabled": true,
      "products": [
        {
          "prices": [
            "string"
          ],
          "product": "string"
        }
      ],
      "proration_behavior": "always_invoice"
    }
  },
  "$schema": "https://json-schema.org/draft/2020-12/schema"
}