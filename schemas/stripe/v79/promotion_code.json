{
  "description": "A Promotion Code represents a customer-redeemable code for a coupon. It can be used to\ncreate multiple codes for a single coupon.",
  "properties": {
    "active": {
      "description": "Whether the promotion code is currently active. A promotion code is only active if the coupon is also valid.",
      "type": "boolean"
    },
    "code": {
      "description": "The customer-facing code. Regardless of case, this code must be unique across all active promotion codes for each customer.",
      "maxLength": 5000,
      "type": "string"
    },
    "coupon": {
      "description": "A coupon contains information about a percent-off or amount-off discount you\nmight want to apply to a customer. Coupons may be applied to [invoices](https://stripe.com/docs/api#invoices) or\n[orders](https://stripe.com/docs/api#create_order-coupon). Coupons do not work with conventional one-off [charges](https://stripe.com/docs/api#create_charge).",
      "properties": {
        "amount_off": {
          "description": "Amount (in the `currency` specified) that will be taken off the subtotal of any invoices for this customer.",
          "nullable": true,
          "type": "integer"
        },
        "applies_to": {
          "description": "",
          "properties": {
            "products": {
              "description": "A list of product IDs this coupon applies to",
              "items": {
                "maxLength": 5000,
                "type": "string"
              },
              "type": "array"
            }
          },
          "required": [
            "products"
          ],
          "title": "CouponAppliesTo",
          "type": "object",
          "x-expandableFields": []
        },
        "created": {
          "description": "Time at which the object was created. Measured in seconds since the Unix epoch.",
          "format": "unix-time",
          "type": "integer"
        },
        "currency": {
          "description": "If `amount_off` has been set, the three-letter [ISO code for the currency](https://stripe.com/docs/currencies) of the amount to take off.",
          "nullable": true,
          "type": "string"
        },
        "duration": {
          "description": "One of `forever`, `once`, and `repeating`. Describes how long a customer who applies this coupon will get the discount.",
          "enum": [
            "forever",
            "once",
            "repeating"
          ],
          "type": "string"
        },
        "duration_in_months": {
          "description": "If `duration` is `repeating`, the number of months the coupon applies. Null if coupon `duration` is `forever` or `once`.",
          "nullable": true,
          "type": "integer"
        },
        "id": {
          "description": "Unique identifier for the object.",
          "maxLength": 5000,
          "type": "string"
        },
        "livemode": {
          "description": "Has the value `true` if the object exists in live mode or the value `false` if the object exists in test mode.",
          "type": "boolean"
        },
        "max_redemptions": {
          "description": "Maximum number of times this coupon can be redeemed, in total, across all customers, before it is no longer valid.",
          "nullable": true,
          "type": "integer"
        },
        "metadata": {
          "additionalProperties": {
            "maxLength": 500,
            "type": "string"
          },
          "description": "Set of [key-value pairs](https://stripe.com/docs/api/metadata) that you can attach to an object. This can be useful for storing additional information about the object in a structured format.",
          "nullable": true,
          "type": "object"
        },
        "name": {
          "description": "Name of the coupon displayed to customers on for instance invoices or receipts.",
          "maxLength": 5000,
          "nullable": true,
          "type": "string"
        },
        "object": {
          "description": "String representing the object's type. Objects of the same type share the same value.",
          "enum": [
            "coupon"
          ],
          "type": "string"
        },
        "percent_off": {
          "description": "Percent that will be taken off the subtotal of any invoices for this customer for the duration of the coupon. For example, a coupon with percent_off of 50 will make a %s100 invoice %s50 instead.",
          "nullable": true,
          "type": "number"
        },
        "redeem_by": {
          "description": "Date after which the coupon can no longer be redeemed.",
          "format": "unix-time",
          "nullable": true,
          "type": "integer"
        },
        "times_redeemed": {
          "description": "Number of times this coupon has been applied to a customer.",
          "type": "integer"
        },
        "valid": {
          "description": "Taking account of the above properties, whether this coupon can still be applied to a customer.",
          "type": "boolean"
        }
      },
      "required": [
        "created",
        "duration",
        "id",
        "livemode",
        "object",
        "times_redeemed",
        "valid"
      ],
      "title": "Coupon",
      "type": "object",
      "x-expandableFields": [
        "applies_to"
      ],
      "x-resourceId": "coupon"
    },
    "created": {
      "description": "Time at which the object was created. Measured in seconds since the Unix epoch.",
      "format": "unix-time",
      "type": "integer"
    },
    "customer": {
      "anyOf": [
        {
          "maxLength": 5000,
          "type": "string"
        },
        {
          "$ref": "#/components/schemas/customer"
        },
        {
          "description": "",
          "properties": {
            "deleted": {
              "description": "Always true for a deleted object",
              "enum": [
                true
              ],
              "type": "boolean"
            },
            "id": {
              "description": "Unique identifier for the object.",
              "maxLength": 5000,
              "type": "string"
            },
            "object": {
              "description": "String representing the object's type. Objects of the same type share the same value.",
              "enum": [
                "customer"
              ],
              "type": "string"
            }
          },
          "required": [
            "deleted",
            "id",
            "object"
          ],
          "title": "DeletedCustomer",
          "type": "object",
          "x-expandableFields": [],
          "x-resourceId": "deleted_customer"
        }
      ],
      "description": "The customer that this promotion code can be used by.",
      "nullable": true,
      "x-expansionResources": {
        "oneOf": [
          {
            "$ref": "#/components/schemas/customer"
          },
          {
            "description": "",
            "properties": {
              "deleted": {
                "description": "Always true for a deleted object",
                "enum": [
                  true
                ],
                "type": "boolean"
              },
              "id": {
                "description": "Unique identifier for the object.",
                "maxLength": 5000,
                "type": "string"
              },
              "object": {
                "description": "String representing the object's type. Objects of the same type share the same value.",
                "enum": [
                  "customer"
                ],
                "type": "string"
              }
            },
            "required": [
              "deleted",
              "id",
              "object"
            ],
            "title": "DeletedCustomer",
            "type": "object",
            "x-expandableFields": [],
            "x-resourceId": "deleted_customer"
          }
        ]
      }
    },
    "expires_at": {
      "description": "Date at which the promotion code can no longer be redeemed.",
      "format": "unix-time",
      "nullable": true,
      "type": "integer"
    },
    "id": {
      "description": "Unique identifier for the object.",
      "maxLength": 5000,
      "type": "string"
    },
    "livemode": {
      "description": "Has the value `true` if the object exists in live mode or the value `false` if the object exists in test mode.",
      "type": "boolean"
    },
    "max_redemptions": {
      "description": "Maximum number of times this promotion code can be redeemed.",
      "nullable": true,
      "type": "integer"
    },
    "metadata": {
      "additionalProperties": {
        "maxLength": 500,
        "type": "string"
      },
      "description": "Set of [key-value pairs](https://stripe.com/docs/api/metadata) that you can attach to an object. This can be useful for storing additional information about the object in a structured format.",
      "nullable": true,
      "type": "object"
    },
    "object": {
      "description": "String representing the object's type. Objects of the same type share the same value.",
      "enum": [
        "promotion_code"
      ],
      "type": "string"
    },
    "restrictions": {
      "description": "",
      "properties": {
        "first_time_transaction": {
          "description": "A Boolean indicating if the Promotion Code should only be redeemed for Customers without any successful payments or invoices",
          "type": "boolean"
        },
        "minimum_amount": {
          "description": "Minimum amount required to redeem this Promotion Code into a Coupon (e.g., a purchase must be $100 or more to work).",
          "nullable": true,
          "type": "integer"
        },
        "minimum_amount_currency": {
          "description": "Three-letter [ISO code](https://stripe.com/docs/currencies) for minimum_amount",
          "maxLength": 5000,
          "nullable": true,
          "type": "string"
        }
      },
      "required": [
        "first_time_transaction"
      ],
      "title": "PromotionCodesResourceRestrictions",
      "type": "object",
      "x-expandableFields": []
    },
    "times_redeemed": {
      "description": "Number of times this promotion code has been used.",
      "type": "integer"
    }
  },
  "required": [
    "active",
    "code",
    "coupon",
    "created",
    "id",
    "livemode",
    "object",
    "restrictions",
    "times_redeemed"
  ],
  "title": "PromotionCode",
  "type": "object",
  "x-expandableFields": [
    "coupon",
    "customer",
    "restrictions"
  ],
  "x-resourceId": "promotion_code"
}